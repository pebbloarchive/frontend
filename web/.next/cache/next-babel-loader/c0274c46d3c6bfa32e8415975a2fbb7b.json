{"ast":null,"code":"export const useFetchMorePosts = (data, loading, fetchMore, variables) => {\n  if (false) {\n    window.onscroll = function () {\n      if (window.innerHeight + window.scrollY >= document.body.scrollHeight) {\n        if (!loading && data && data.posts.hasMore) {\n          // you're at the bottom of the page\n          fetchMore({\n            variables: {\n              limit: variables === null || variables === void 0 ? void 0 : variables.limit,\n              cursor: data.posts.posts[data.posts.posts.length - 1].created_at\n            }\n          });\n        }\n      }\n    };\n  }\n};","map":{"version":3,"sources":["C:/Users/root/Desktop/dev/frontend/web/src/components/hooks/useFetchMorePosts.ts"],"names":["useFetchMorePosts","data","loading","fetchMore","variables","window","onscroll","innerHeight","scrollY","document","body","scrollHeight","posts","hasMore","limit","cursor","length","created_at"],"mappings":"AAEA,OAAO,MAAMA,iBAAiB,GAAG,CAC/BC,IAD+B,EAE/BC,OAF+B,EAG/BC,SAH+B,EAI/BC,SAJ+B,KAO5B;AACH,aAAqB;AACnBC,IAAAA,MAAM,CAACC,QAAP,GAAkB,YAAY;AAC5B,UAAID,MAAM,CAACE,WAAP,GAAqBF,MAAM,CAACG,OAA5B,IAAuCC,QAAQ,CAACC,IAAT,CAAcC,YAAzD,EAAuE;AACrE,YAAI,CAACT,OAAD,IAAYD,IAAZ,IAAoBA,IAAI,CAACW,KAAL,CAAWC,OAAnC,EAA4C;AAC1C;AACAV,UAAAA,SAAS,CAAC;AACRC,YAAAA,SAAS,EAAE;AACTU,cAAAA,KAAK,EAAEV,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEU,KADT;AAETC,cAAAA,MAAM,EAAEd,IAAI,CAACW,KAAL,CAAWA,KAAX,CAAiBX,IAAI,CAACW,KAAL,CAAWA,KAAX,CAAiBI,MAAjB,GAA0B,CAA3C,EAA8CC;AAF7C;AADH,WAAD,CAAT;AAMD;AACF;AACF,KAZD;AAaD;AACF,CAvBM","sourcesContent":["import { Exact, PostsQuery } from \"../../generated/graphql\";\r\n\r\nexport const useFetchMorePosts = (\r\n  data: PostsQuery | undefined,\r\n  loading: boolean,\r\n  fetchMore: any,\r\n  variables:\r\n    | Exact<{ limit: number; cursor?: string | null | undefined }>\r\n    | undefined\r\n) => {\r\n  if (process.browser) {\r\n    window.onscroll = function () {\r\n      if (window.innerHeight + window.scrollY >= document.body.scrollHeight) {\r\n        if (!loading && data && data.posts.hasMore) {\r\n          // you're at the bottom of the page\r\n          fetchMore({\r\n            variables: {\r\n              limit: variables?.limit,\r\n              cursor: data.posts.posts[data.posts.posts.length - 1].created_at,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    };\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}