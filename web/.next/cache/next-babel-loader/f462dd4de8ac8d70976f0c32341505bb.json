{"ast":null,"code":"import { useEffect } from \"react\";\nimport { useMeQuery } from \"@pebblo/frontend/src/generated/graphql\";\nimport { withApollo } from \"./withApolloHook\";\nexport function useIsAuthed(server) {\n  const {\n    data,\n    loading\n  } = useMeQuery();\n  useEffect(() => {\n    if (!loading && !(data === null || data === void 0 ? void 0 : data.me)) {\n      if (server) {\n        server.writeHead(302, {\n          Location: \"/login\"\n        });\n        server.end();\n      }\n    }\n  }, [loading, data]);\n}\nexport default withApollo({\n  ssr: true\n})(useIsAuthed);","map":null,"metadata":{},"sourceType":"module"}