{"ast":null,"code":"import _slicedToArray from \"C:/Users/root/Desktop/dev/frontend/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Nav from '~/components/Nav';\nimport NotFound from '../404';\nimport styles from '@pebblo/css/profile/profile.module.css';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { useFollowMutation, useMeQuery, usePostsQuery, useUserQuery } from \"../../generated/graphql\";\nimport { withApollo } from \"~/hooks/withApolloHook\";\nimport { useFetchMorePosts } from \"~/hooks/useFetchMorePosts\";\nimport { useConvertUnixTimestamp } from \"~/hooks/useConvertUnixTimestamp\";\nimport { Feed } from '~/components/general/profile/home/Feed';\nimport Loader from \"~/components/loader/Post\";\nimport { useAuth } from \"~/hooks/useAuth\";\n\nvar Username = function Username() {\n  var _router$query$usernam, _userData$user, _userData$user$user, _userData$user$user2, _userData$user$user3, _userData$user$user4, _userData$user$user5, _userData$user$user6, _userData$user$user7, _userData$user$user8, _userData$user$user9, _userData$user$user10, _meData$me, _userData$user$user11, _userData$user$user12, _userData$user$user13, _userData$user$user14, _userData$user$user15, _userData$user$user16, _userData$user$user17, _userData$user$user18, _userData$user$user19, _meData$me2, _userData$user$user20, _userData$user$user21;\n\n  var router = useRouter();\n  var username = ((_router$query$usernam = router.query.username) === null || _router$query$usernam === void 0 ? void 0 : _router$query$usernam.toString()) || \"\";\n\n  var _useMeQuery = useMeQuery(),\n      meData = _useMeQuery.data;\n\n  var _useUserQuery = useUserQuery({\n    variables: {\n      username: username\n    }\n  }),\n      userData = _useUserQuery.data;\n\n  var loggedIn = useAuth();\n\n  var _useFollowMutation = useFollowMutation(),\n      _useFollowMutation2 = _slicedToArray(_useFollowMutation, 1),\n      follow = _useFollowMutation2[0];\n\n  var _usePostsQuery = usePostsQuery({\n    variables: {\n      limit: 14,\n      cursor: null\n    },\n    notifyOnNetworkStatusChange: true\n  }),\n      data = _usePostsQuery.data,\n      error = _usePostsQuery.error,\n      loading = _usePostsQuery.loading,\n      fetchMore = _usePostsQuery.fetchMore,\n      variables = _usePostsQuery.variables;\n\n  useFetchMorePosts(data, loading, fetchMore, variables);\n\n  var _useConvertUnixTimest = useConvertUnixTimestamp(userData === null || userData === void 0 ? void 0 : (_userData$user = userData.user) === null || _userData$user === void 0 ? void 0 : (_userData$user$user = _userData$user.user) === null || _userData$user$user === void 0 ? void 0 : _userData$user$user.createdAt),\n      date = _useConvertUnixTimest.date;\n\n  if (!loading && !data) {\n    return /*#__PURE__*/_jsx(\"p\", {\n      children: \"query failed hmmm\"\n    });\n  }\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.user.user) === null) {\n    return /*#__PURE__*/_jsx(NotFound, {});\n  }\n\n  if (!data && loading) {\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(Nav, {})\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Nav, {}), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.content,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.profile,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.information,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: styles.avatar,\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: (userData === null || userData === void 0 ? void 0 : userData.user) ? userData === null || userData === void 0 ? void 0 : (_userData$user$user2 = userData.user.user) === null || _userData$user$user2 === void 0 ? void 0 : _userData$user$user2.avatar : '/icons/default.png',\n              alt: \"\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user3 = userData.user.user) === null || _userData$user$user3 === void 0 ? void 0 : _userData$user$user3.name, \" || \").concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user4 = userData.user.user) === null || _userData$user$user4 === void 0 ? void 0 : _userData$user$user4.username)\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.about,\n          children: [/*#__PURE__*/_jsxs(\"h1\", {\n            className: styles.name,\n            children: [userData === null || userData === void 0 ? void 0 : (_userData$user$user5 = userData.user.user) === null || _userData$user$user5 === void 0 ? void 0 : _userData$user$user5.name, \" \", (userData === null || userData === void 0 ? void 0 : (_userData$user$user6 = userData.user.user) === null || _userData$user$user6 === void 0 ? void 0 : _userData$user$user6.verified) ? /*#__PURE__*/_jsx(\"img\", {\n              className: styles.badge,\n              src: \"icons/verified.png\",\n              alt: \"\"\n            }) : '']\n          }), /*#__PURE__*/_jsxs(\"h1\", {\n            className: styles.username,\n            children: [\"@\", userData === null || userData === void 0 ? void 0 : (_userData$user$user7 = userData.user.user) === null || _userData$user$user7 === void 0 ? void 0 : _userData$user$user7.username]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.description,\n            children: userData === null || userData === void 0 ? void 0 : (_userData$user$user8 = userData.user.user) === null || _userData$user$user8 === void 0 ? void 0 : _userData$user$user8.description\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.left,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: styles.card,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.card_content,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.statistics,\n                children: [/*#__PURE__*/_jsx(Link, {\n                  href: \"\",\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"\",\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: userData === null || userData === void 0 ? void 0 : (_userData$user$user9 = userData.user.user) === null || _userData$user$user9 === void 0 ? void 0 : _userData$user$user9.followers.length\n                    }), /*#__PURE__*/_jsx(\"h3\", {\n                      children: \"Followers\"\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"\",\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"\",\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: userData === null || userData === void 0 ? void 0 : (_userData$user$user10 = userData.user.user) === null || _userData$user$user10 === void 0 ? void 0 : _userData$user$user10.following.length\n                    }), /*#__PURE__*/_jsx(\"h3\", {\n                      children: \"Following\"\n                    })]\n                  })\n                })]\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.right,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: styles.card,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.card_content,\n              children: (meData === null || meData === void 0 ? void 0 : (_meData$me = meData.me) === null || _meData$me === void 0 ? void 0 : _meData$me.username) === username ? /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.filter,\n                children: [/*#__PURE__*/_jsxs(\"a\", {\n                  href: \"\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/gallery.png\",\n                    alt: \"\"\n                  }), \"Gallery\"]\n                }), /*#__PURE__*/_jsxs(\"a\", {\n                  href: \"\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/share.png\",\n                    alt: \"\"\n                  }), \"Shared Posts\"]\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"/settings\",\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"/settings\",\n                    children: [/*#__PURE__*/_jsx(\"img\", {\n                      src: \"/icons/cog.png\",\n                      alt: \"\"\n                    }), \"Edit Profile\"]\n                  })\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"/logout\",\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"/logout\",\n                    children: [/*#__PURE__*/_jsx(\"img\", {\n                      src: \"/icons/exit.png\",\n                      alt: \"\"\n                    }), \"Logout\"]\n                  })\n                })]\n              }) : /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.filter,\n                children: [/*#__PURE__*/_jsxs(\"a\", {\n                  href: \"\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/gallery.png\",\n                    alt: \"\"\n                  }), \"Gallery\"]\n                }), /*#__PURE__*/_jsxs(\"a\", {\n                  href: \"\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/share.png\",\n                    alt: \"\"\n                  }), \"Shared Posts\"]\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"/message/\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user11 = userData.user.user) === null || _userData$user$user11 === void 0 ? void 0 : _userData$user$user11.username),\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"/message/\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user12 = userData.user.user) === null || _userData$user$user12 === void 0 ? void 0 : _userData$user$user12.username),\n                    children: [/*#__PURE__*/_jsx(\"img\", {\n                      src: \"/icons/envelope.png\",\n                      alt: \"\"\n                    }), \"Message\"]\n                  })\n                }), /*#__PURE__*/_jsxs(\"button\", {\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/invisible.png\",\n                    alt: \"\"\n                  }), \"Block\"]\n                }), /*#__PURE__*/_jsxs(\"button\", {\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/icons/flag.png\",\n                    alt: \"\"\n                  }), \"Report @\", userData === null || userData === void 0 ? void 0 : (_userData$user$user13 = userData.user.user) === null || _userData$user$user13 === void 0 ? void 0 : _userData$user$user13.username]\n                })]\n              })\n            })\n          })\n        })]\n      }), data === null || data === void 0 ? void 0 : data.posts.posts.map(function (post) {\n        return post.creator.username === username && /*#__PURE__*/_jsx(Feed, {\n          post: post\n        }, post.id);\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: data && data.posts.hasMore ? /*#__PURE__*/_jsx(Loader, {}) : /*#__PURE__*/_jsx(\"p\", {})\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.mobile,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.mobile_profile,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.mobile_profile_navigation,\n          children: [/*#__PURE__*/_jsx(Link, {\n            href: \"/home\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"/home\",\n              className: styles.mobile_page_explore\n            })\n          }), /*#__PURE__*/_jsxs(\"h1\", {\n            className: styles.mobile_profile_username,\n            children: [\"@\", userData === null || userData === void 0 ? void 0 : (_userData$user$user14 = userData.user.user) === null || _userData$user$user14 === void 0 ? void 0 : _userData$user$user14.username]\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: styles.mobile_page_settings\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.mobile_information,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.mobile_images,\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              className: styles.mobile_avatar,\n              src: (userData === null || userData === void 0 ? void 0 : userData.user) ? userData === null || userData === void 0 ? void 0 : (_userData$user$user15 = userData.user.user) === null || _userData$user$user15 === void 0 ? void 0 : _userData$user$user15.avatar : '',\n              alt: \"\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user16 = userData.user.user) === null || _userData$user$user16 === void 0 ? void 0 : _userData$user$user16.name, \" || \").concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user17 = userData.user.user) === null || _userData$user$user17 === void 0 ? void 0 : _userData$user$user17.username)\n            }), /*#__PURE__*/_jsxs(\"section\", {\n              className: styles.mobile_statistics,\n              children: [/*#__PURE__*/_jsxs(\"a\", {\n                href: \"\",\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  children: \"0\"\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  children: \"Followers\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"a\", {\n                href: \"\",\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  children: \"0\"\n                }), /*#__PURE__*/_jsx(\"h3\", {\n                  children: \"Following\"\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.mobile_profile_information,\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              className: styles.profile_name,\n              children: userData === null || userData === void 0 ? void 0 : (_userData$user$user18 = userData.user.user) === null || _userData$user$user18 === void 0 ? void 0 : _userData$user$user18.name\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.profile_description,\n              children: userData === null || userData === void 0 ? void 0 : (_userData$user$user19 = userData.user.user) === null || _userData$user$user19 === void 0 ? void 0 : _userData$user$user19.description\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.mobile_interactions,\n            children: [(meData === null || meData === void 0 ? void 0 : (_meData$me2 = meData.me) === null || _meData$me2 === void 0 ? void 0 : _meData$me2.username) === username ? '' : /*#__PURE__*/_jsx(\"p\", {\n              children: \"Button\"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/message/\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user20 = userData.user.user) === null || _userData$user$user20 === void 0 ? void 0 : _userData$user$user20.username),\n              children: /*#__PURE__*/_jsx(\"a\", {\n                href: \"/message/\".concat(userData === null || userData === void 0 ? void 0 : (_userData$user$user21 = userData.user.user) === null || _userData$user$user21 === void 0 ? void 0 : _userData$user$user21.username),\n                className: styles.mobile_messageUser,\n                children: \"Message\"\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.mobile_filter,\n          children: [/*#__PURE__*/_jsx(\"a\", {\n            href: \"\",\n            className: styles.mobile_filter_profile\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"\",\n            className: styles.mobile_filter_shares\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"\",\n            className: styles.mobile_filter_media\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nexport default withApollo({\n  ssr: true\n})(Username);","map":null,"metadata":{},"sourceType":"module"}